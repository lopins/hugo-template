<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><meta property="og:site_name" content="Huabing Blog"><meta property="og:type" content="article"><meta property="og:image" content="https://images.unsplash.com/photo-1461685265823-f8d5d0b08b9b?q=80&amp;w=3870&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"><meta property="twitter:image" content="https://images.unsplash.com/photo-1461685265823-f8d5d0b08b9b?q=80&amp;w=3870&amp;auto=format&amp;fit=crop&amp;ixlib=rb-4.0.3&amp;ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D"><meta name=title content="Envoy Gateway：十分钟搞定单点登录（SSO）！"><meta property="og:title" content="Envoy Gateway：十分钟搞定单点登录（SSO）！"><meta property="twitter:title" content="Envoy Gateway：十分钟搞定单点登录（SSO）！"><meta name=description content="单点登录（SSO）简化了用户体验，使用户能够在访问多个应用时只需一次登录。Envoy Gateway 在最新版本中的安全策略中提供了 OpenID Connect (OIDC) 的能力，采用 Envoy Gateway，无需对应用做任何修改，即可立刻实现基于 OIDC 的单点登录。"><meta property="og:description" content="单点登录（SSO）简化了用户体验，使用户能够在访问多个应用时只需一次登录。Envoy Gateway 在最新版本中的安全策略中提供了 OpenID Connect (OIDC) 的能力，采用 Envoy Gateway，无需对应用做任何修改，即可立刻实现基于 OIDC 的单点登录。"><meta property="twitter:description" content="单点登录（SSO）简化了用户体验，使用户能够在访问多个应用时只需一次登录。Envoy Gateway 在最新版本中的安全策略中提供了 OpenID Connect (OIDC) 的能力，采用 Envoy Gateway，无需对应用做任何修改，即可立刻实现基于 OIDC 的单点登录。"><meta property="twitter:card" content="summary"><meta name=keyword content="赵化冰, zhaohuabing, Zhaohuabing, , 赵化冰的网络日志, 赵化冰的博客, Zhaohuabing Blog, 博客, 个人网站, 互联网, Web, 云原生, PaaS, Istio, Kubernetes, 微服务, Microservice"><link rel="shortcut icon" href=/hugo-template/img/favicon.ico><title>Envoy Gateway：十分钟搞定单点登录（SSO）！ | 赵化冰的博客 | Zhaohuabing Blog</title>
<link rel=canonical href=/hugo-template/post/2023-12-07-envoy-gateway-security-policy-oidc/><link rel=stylesheet href=/hugo-template/css/bootstrap.min.css><link rel=stylesheet href=/hugo-template/css/hugo-theme-cleanwhite.min.css><link rel=stylesheet href=/hugo-template/css/zanshang.css><link rel=stylesheet href=/hugo-template/css/font-awesome.all.min.css><script src=/hugo-template/js/jquery.min.js></script><script src=/hugo-template/js/bootstrap.min.js></script><script src=/hugo-template/js/hux-blog.min.js></script><script src=/hugo-template/js/lazysizes.min.js></script></head><nav class="navbar navbar-default navbar-custom navbar-fixed-top"><div class=container-fluid><div class="navbar-header page-scroll"><button type=button class=navbar-toggle>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span>
<span class=icon-bar></span>
<span class=icon-bar></span>
</button>
<a class=navbar-brand href=/>Huabing Blog</a></div><div id=huxblog_navbar><div class=navbar-collapse><ul class="nav navbar-nav navbar-right"><li><a href=/>All Posts</a></li><li><a href=/hugo-template/categories/books/>books</a></li><li><a href=/hugo-template/categories/open-source/>open source</a></li><li><a href=/hugo-template/categories/presentations/>presentations</a></li><li><a href=/hugo-template/categories/tech/>tech</a></li><li><a href=/archive//>ARCHIVE</a></li><li><a href=/notes//>NOTES</a></li><li><a href=/about//>ABOUT</a></li><li><a href=/hugo-template/search><i class="fa fa-search"></i></a></li></ul></div></div></div></nav><script>var $body=document.body,$toggle=document.querySelector(".navbar-toggle"),$navbar=document.querySelector("#huxblog_navbar"),$collapse=document.querySelector(".navbar-collapse");$toggle.addEventListener("click",handleMagic);function handleMagic(){$navbar.className.indexOf("in")>0?($navbar.className=" ",setTimeout(function(){$navbar.className.indexOf("in")<0&&($collapse.style.height="0px")},400)):($collapse.style.height="auto",$navbar.className+=" in")}</script><style type=text/css>header.intro-header{background-image:url(https://images.unsplash.com/photo-1461685265823-f8d5d0b08b9b?q=80&w=3870&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)}</style><header class=intro-header><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><div class=post-heading><div class=tags><a class=tag href=/tags/envoy-gateway title="Envoy Gateway">Envoy Gateway</a></div><h1>Envoy Gateway：十分钟搞定单点登录（SSO）！</h1><h2 class=subheading></h2><span class=meta>Posted by
赵化冰
on
Thursday, December 7, 2023</span></div></div></div></div></header><article><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
post-container"><p>单点登录（SSO）简化了用户体验，使用户能够在访问多个应用时只需一次登录。这提高了用户满意度，减少了密码遗忘的风险，同时增强了安全性。但是，实现单点登录并不容易，需要应用程序实现和认证服务器的交互逻辑，增加了应用程序的开发工作量。Envoy Gateway 在最新版本中的安全策略中提供了 OpenID Connect (OIDC) 的能力，采用 Envoy Gateway，无需对应用做任何修改，在十分钟内即可立刻实现单点登录。</p><h2 id=什么是单点登录sso->什么是单点登录（SSO） ？</h2><p>SSO 是 英文 Single Sign-On 的缩写，翻译为中文即为单点登录。当采用单点登录之后，用户只需要登录一次，就可以访问多个应用系统。SSO 通常由一个独立的身份管理系统来完成，该系统为每个用户分配一个全局唯一的标识，用户在登录时，只需要提供一次身份认证，就可以访问所有的应用系统。我们在使用一些网站时，经常会看到“使用微信登录”、“使用 Google 账户登录”等按钮，这些网站就是通过 SSO 来实现的。</p><p>采用单点登录有以下几个好处：</p><ul><li>用户只需要登录一次，就可以访问多个应用系统，不需要为每个应用系统都单独登录。</li><li>应用系统不需要自己实现用户认证，只需将认证工作交给单点登录系统，可以大大减少应用系统的开发工作量。
<img src=https://zhaohuabing.com/static/img/2023-12-07-envoy-gateway-security-policy-oidc/sso.png alt=sso></li></ul><h2 id=什么是-openid-connect-oidc->什么是 OpenID Connect (OIDC) ？</h2><p>SSO 通常是通过 <a href=https://openid.net/specs/openid-connect-core-1_0.html>OpenID Connect (OIDC) ¹</a> 来实现的。OIDC 是一个基于 <a href=https://datatracker.ietf.org/doc/html/rfc6749>OAuth 2.0 ²</a> 协议之上的身份认证协议。</p><p>OAuth 2.0 协议本身是一个授权协议，OAuth 2.0 协议中的授权服务器（Authorization Server）负责对用户进行身份认证，认证成功后，授权服务器会向客户端颁发一个访问令牌（Access Token），客户端可以使用该令牌来访问该用户的受保护的资源。例如用户可以通过 OAuth 2.0 授权一个第三方应用访问其 Github 账号下的代码库。Access Token 是一个透明的字符串，只有授权服务器才知道如何解读。客户端会在访问受保护资源时带上 Acces Token，授权服务器根据 Access Token 来判断该请求是否有访问指定资源的权限。Access Token 只用于对资源访问进行授权，其中并没有用户身份信息。</p><p>OIDC 通过在 OAuth 2.0 协议之上增加了一个 ID Token 来实现身份认证。OIDC 的认证过程和 OAuth 2.0 的认证过程是一样的，只是认证服务器在对用户认证后向客户端颁发的是一个 ID Token 而不是 Access Token。ID Token 是一个 <a href=https://jwt.io/>JSON Web Token (JWT) ³</a>，JWT Token 是一个标准的格式，其中包含了用户的身份信息，例如用户的唯一标识，用户名，邮箱等，并且可以通过认证服务器的公钥进行验证，因此可以代表登录的用户身份。OIDC 通过 ID Token 来实现身份认证，从而实现了单点登录。</p><p>备注：由于篇幅有限，本文对 OAuth 2.0 只做简单介绍，如果感兴趣的话，可以移步阮一峰老师的 <a href=https://www.ruanyifeng.com/blog/2019/04/oauth_design.html>OAuth 2.0 介绍 ⁴</a> 系列文章进一步了解协议的原理。</p><h3 id=envoy-gateway-oidc-认证过程>Envoy Gateway OIDC 认证过程</h3><p>Envoy Gateway 在最新版本中的安全策略中提供了 OIDC 的能力，可以通过 OIDC 来实现单点登录。OIDC 标准支持通过 OAuth 2.0 中的 Authorization Code Flow，Implicit Flow，Hybrid Flow 三种方式来进行身份认证。Envoy Gateway 采用了其中最安全，也是最常用的 <a href=https://datatracker.ietf.org/doc/html/rfc6749#section-4.1>Authorization Code Flow ⁵</a>。下图展示了 Envoy Gateway OIDC 的认证过程。</p><p><img src=https://zhaohuabing.com/static/img/2023-12-07-envoy-gateway-security-policy-oidc/oidc.png alt></p><ul><li>当用户访问一个需要进行 OIDC 认证的 HTTPRoute 时，Envoy Gateway 会检查请求中是否有代表用户身份的 ID Token，如果没有，或者 Token 已经过期，则会将请求重定向到 OIDC Provider 的认证页面。</li><li>用户在 OIDC Provider 的认证页面输入用户名和密码等身份信息进行认证。认证成功后，OIDC Provider 会将用户重定向到 Envoy Gateway 的回调地址，并且带上一个 Authorization Code。</li><li>Envoy Gateway 收到 OIDC Provider 的回调请求后，会将 Authorization Code 发送给 OIDC Provider，OIDC Provider 根据 Authorization Code 生成一个 ID Token，并将 ID Token 返回给 Envoy Gateway。</li><li>Envoy Gateway 收到 ID Token 后，会将 ID Token 保存在一个 Cookie 中，并将请求重定向到原来的 HTTPRoute。</li><li>当用户再次访问该 HTTPRoute 时，Envoy Gateway 会从 Cookie 中获取 ID Token，验证该 ID Token 合法，并且未过期后，Envoy Gateway 会将请求转发给后端服务。</li></ul><p>从图中可以看到，虽然 OIDC 单点登录的过程比较复杂，但都是由 Envoy Gateway 来完成的。对于应用程序来说，这个过程其实是无感知的，应用程序无需修改任何代码，就可以实现单点登录。</p><h2 id=采用-envoy-gateway-为应用实现单点登录>采用 Envoy Gateway 为应用实现单点登录</h2><p>采用 Envoy Gateway 可以简化应用关于用户登录的实现，应用程序无需在代码中实现和 OIDC Provicer 交互的相关逻辑，只需要在 Envoy Gateway 的安全策略中配置 OIDC 的相关参数，在十分钟内可实现应用的 OIDC SSO。下面我们通过一个例子来演示如何在 Envoy Gateway 中配置 OIDC。</p><h3 id=配置-oidc-provider>配置 OIDC Provider</h3><p>Envoy Gateway 支持所有实现了 OIDC 标准的 Identify Provider，包括 Google、微软、Auth0、Okta、微信、微博等等。下面我们以 Google 账户登录为例介绍如何为 Envoy Gateway 配置 OIDC SSO。</p><p>首先需要参照 <a href=https://developers.google.com/identity/openid-connect/openid-connect>Google 的 OpenID Connect 文档 ⁶</a> Google Cloud Platform 中创建一个 OAuth Client ID。</p><p>打开 Google Cloud Console 的 <a href=https://console.cloud.google.com/apis/credentials>Credentials 界面</a>，点击 Create Credentials -> OAuth client ID，然后选择 Web application，输入应用的名称，设置 Authorized redirect URLs 为 <code>https://www.example.com/oauth2/callback</code>，然后点击 Create 按钮创建 OAuth Client ID。
<img src=https://zhaohuabing.com/static/img/2023-12-07-envoy-gateway-security-policy-oidc/oauth-client.png alt></p><p>备注： Envoy Gateway 采用 <code>%REQ(x-forwarded-proto)%://%REQ(:authority)%/oauth2/callback</code> 作为默认的 OIDC 回调地址，因此需要将 Authorized redirect URLs 设置为 <code>https://www.example.com/oauth2/callback</code>。</p><p>创建成功后，会弹出一个页面显示创建的 OAuth client 的信息，记录下其中的 Client ID 和 Client Secret，这两个值将会用于后面的 Envoy Gateway 安全策略配置中。
<img src=https://zhaohuabing.com/static/img/2023-12-07-envoy-gateway-security-policy-oidc/oauth-client-info.png alt></p><h3 id=配置-envoy-gateway-安全策略>配置 Envoy Gateway 安全策略</h3><p>首先参照 <a href=https://gateway.envoyproxy.io/latest/user/quickstart/>Envoy Gateway Quickstart ⁷</a> 安装 Envoy Gateway 和例子程序。根据 OIDC 规范的建议，Envoy Gateway 要求配置 OIDC 的 Listener 采用 HTTPS 协议，因此前参照 <a href=https://gateway.envoyproxy.io/latest/user/secure-gateways/>Secure Gateway ⁸</a>为 Envoy Gateway 配置 HTTPS。</p><p>创建一个 Kubernetes Secret，用于存储 OAuth Client 的 Client Secret。</p><p>注意将 ${CLIENT_SECRET} 替换为上面创建的 OAuth Client 的 Client Secret。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>$ kubectl create secret generic my-app-client-secret --from-literal=client-secret=${CLIENT_SECRET}
</span></span><span style=display:flex><span>secret &#34;my-app-client-secret&#34; created
</span></span></code></pre></div><p>然后在 Envoy Gateway 中配置 OIDC SSO，首先需要在 Envoy Gateway 中配置一个安全策略，该安全策略用于配置 OIDC SSO 的相关参数。</p><p>注意将 ${CLIENT_ID} 替换为上面创建的 OAuth Client 的 Client ID。</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span>cat &lt;&lt;EOF | kubectl apply -f -
</span></span><span style=display:flex><span><span style=color:#ff79c6>apiVersion</span>: gateway.envoyproxy.io/v1alpha1
</span></span><span style=display:flex><span><span style=color:#ff79c6>kind</span>: SecurityPolicy
</span></span><span style=display:flex><span><span style=color:#ff79c6>metadata</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>name</span>: oidc-example
</span></span><span style=display:flex><span><span style=color:#ff79c6>spec</span>:
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>targetRef</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>group</span>: gateway.networking.k8s.io
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>kind</span>: HTTPRoute
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>name</span>: backend
</span></span><span style=display:flex><span>  <span style=color:#ff79c6>oidc</span>:
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>provider</span>:
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>issuer</span>: <span style=color:#f1fa8c>&#34;https://accounts.google.com&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>clientID</span>: <span style=color:#f1fa8c>&#34;${CLIENT_ID}.apps.googleusercontent.com&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#ff79c6>clientSecret</span>:
</span></span><span style=display:flex><span>      <span style=color:#ff79c6>name</span>: <span style=color:#f1fa8c>&#34;my-app-client-secret&#34;</span>
</span></span><span style=display:flex><span>EOF
</span></span></code></pre></div><p>上面短短十来行配置就会将 OIDC SSO 应用到名为 backend 的 HTTPRoute 上。这样，当客户端请求访问该 HTTPRoute 时，就会被重定向到 Google 页面进行用户验证 。除了 HTTPRoute，Envoy Gateway 还支持将 SecurityPolicy 应用到 Gateway 上，只要将 targetRef 指向 Gateway 即可。</p><h3 id=验证单点登录>验证单点登录</h3><p>如果集群有对外暴露的 LoadBalancer，可以直接通过 LoadBalancer 的地址访问 Envoy Gateway。如果集群没有对外暴露的 LoadBalancer，可以通过 Port-Forward 的方式将 Gateway 的端口映射到本地，例如：</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#282a36;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span><span style=color:#8be9fd;font-style:italic>export</span> <span style=color:#8be9fd;font-style:italic>ENVOY_SERVICE</span><span style=color:#ff79c6>=</span><span style=color:#ff79c6>$(</span>kubectl get svc -n envoy-gateway-system --selector<span style=color:#ff79c6>=</span>gateway.envoyproxy.io/owning-gateway-namespace<span style=color:#ff79c6>=</span>default,gateway.envoyproxy.io/owning-gateway-name<span style=color:#ff79c6>=</span>eg -o <span style=color:#8be9fd;font-style:italic>jsonpath</span><span style=color:#ff79c6>=</span><span style=color:#f1fa8c>&#39;{.items[0].metadata.name}&#39;</span><span style=color:#ff79c6>)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>sudo kubectl -n envoy-gateway-system port-forward service/<span style=color:#f1fa8c>${</span><span style=color:#8be9fd;font-style:italic>ENVOY_SERVICE</span><span style=color:#f1fa8c>}</span> 443:443
</span></span></code></pre></div><p>将 Envoy Gateway 的地址配置到 DNS 中，例如将 <a href=https://www.example.com>www.example.com</a> 配置到 Envoy Gateway 的地址。</p><pre tabindex=0><code>127.0.0.1 www.example.com
</code></pre><p>首先在浏览器中访问 Envoy Gateway 的地址，例如 <a href=https://www.example.com>https://www.example.com</a>，Envoy Gateway 会根据 OIDC 的配置引导用户进行登录。浏览器会跳转到 Google 的登录页面。
<img src=https://zhaohuabing.com/static/img/2023-12-07-envoy-gateway-security-policy-oidc/google.png alt></p><p>输入 Google 账户的用户名和密码，登录成功后，会跳转到应用的首页。
<img src=https://zhaohuabing.com/static/img/2023-12-07-envoy-gateway-security-policy-oidc/backend.png alt></p><h2 id=总结>总结</h2><p>单点登录（SSO）简化了用户体验，使用户能够在访问多个应用时只需一次登录。但是，实现单点登录并不容易，需要应用程序实现和认证服务器的交互逻辑，增加了应用程序的开发工作量。Envoy Gateway 在最新版本中的安全策略中提供了 OpenID Connect (OIDC) 的能力，采用 Envoy Gateway 的安全策略，让应用程序无需修改任何代码即可轻松实现基于 OIDC 的单点登录（SSO）。</p><h2 id=参考链接>参考链接</h2><ol><li><a href=https://openid.net/specs/openid-connect-core-1_0.html>OpenID Connect (OIDC) ¹</a>：https://openid.net/specs/openid-connect-core-1_0.html</li><li><a href=https://datatracker.ietf.org/doc/html/rfc6749>OAuth 2.0 ²</a>：https://datatracker.ietf.org/doc/html/rfc6749</li><li><a href=https://jwt.io/>JSON Web Token (JWT)³</a>： <a href=https://jwt.io>https://jwt.io</a></li><li><a href=https://www.ruanyifeng.com/blog/2019/04/oauth_design.html>阮一峰： OAuth 2.0 介绍⁴</a>： <a href=https://www.ruanyifeng.com/blog/2019/04/oauth_design.html>https://www.ruanyifeng.com/blog/2019/04/oauth_design.html</a></li><li><a href=https://datatracker.ietf.org/doc/html/rfc6749#section-4.1>Authorization Code Flow ⁵</a> ：https://datatracker.ietf.org/doc/html/rfc6749#section-4.1</li><li><a href=https://developers.google.com/identity/openid-connect/openid-connect>Google OpenID Connect 文档 ⁶</a>：https://developers.google.com/identity/openid-connect/openid-connect</li><li><a href=https://gateway.envoyproxy.io/latest/user/quickstart/>Envoy Gateway Quickstart ⁷</a> ：https://gateway.envoyproxy.io/latest/user/quickstart</li><li><a href=https://gateway.envoyproxy.io/latest/user/secure-gateways/>Secure Gateway ⁸</a>：https://gateway.envoyproxy.io/latest/user/secure-gateways</li></ol><div class="entry-shang text-center"><p>「真诚赞赏，手留余香」</p><button class="zs show-zs btn btn-bred">赞赏支持</button></div><div class=zs-modal-bg></div><div class=zs-modal-box><div class=zs-modal-head><button type=button class=close>×</button>
<span class=author><a href=https://lopins.github.io/hugo-template/><img src=/hugo-template/img/favicon.png>Huabing Blog</a></span><p class=tip><i></i><span>真诚赞赏，手留余香</span></p></div><div class=zs-modal-body><div class=zs-modal-btns><button class="btn btn-blink" data-num=2>2元</button>
<button class="btn btn-blink" data-num=5>5元</button>
<button class="btn btn-blink" data-num=10>10元</button>
<button class="btn btn-blink" data-num=50>50元</button>
<button class="btn btn-blink" data-num=100>100元</button>
<button class="btn btn-blink" data-num=1>任意金额</button></div><div class=zs-modal-pay><button class="btn btn-bred" id=pay-text>2元</button><p>使用<span id=pay-type>微信</span>扫描二维码完成支付</p><img src=/hugo-template/img/reward/wechat-2.png id=pay-image></div></div><div class=zs-modal-footer><label><input type=radio name=zs-type value=wechat class=zs-type checked><span><span class=zs-wechat><img src=/hugo-template/img/reward/wechat-btn.png></span></label>
<label><input type=radio name=zs-type value=alipay class=zs-type class=zs-alipay><img src=/hugo-template/img/reward/alipay-btn.png></span></label></div></div><script type=text/javascript src=/hugo-template/js/reward.js></script><hr><ul class=pager><li class=previous><a href=/hugo-template/post/2023-11-29-envoy-gateway-security-policy-basic-auth/ data-toggle=tooltip data-placement=top title="Envoy Gateway 安全策略介绍: HTTP Basic Authentication">&larr;
Previous Post</a></li><li class=next><a href=/hugo-template/post/2024-03-05-envoy-gateway-ga/ data-toggle=tooltip data-placement=top title="Envoy Gateway 发布通用可用版本 1.0.0 ！">Next
Post &rarr;</a></li></ul><link href=https://xxx.xxx.com/dist/Artalk.css rel=stylesheet><script src=https://xxx.xxx.com/dist/Artalk.js></script><div id=Comments></div><script>Artalk.init({el:"#Comments",pageKey:"https://lopins.github.io/hugo-template/post/2023-12-07-envoy-gateway-security-policy-oidc/",pageTitle:"Envoy Gateway：十分钟搞定单点登录（SSO）！",server:"https://xxx.xxx.com",site:"xxx blog"})</script></div><div class="col-lg-2 col-lg-offset-0
visible-lg-block
sidebar-container
catalog-container"><div class=side-catalog><hr class="hidden-sm hidden-xs"><h5><a class=catalog-toggle href=#>CATALOG</a></h5><ul class=catalog-body></ul></div></div><div class="col-lg-8 col-lg-offset-2
col-md-10 col-md-offset-1
sidebar-container"><section><hr class="hidden-sm hidden-xs"><h5><a href=/tags/>FEATURED TAGS</a></h5><div class=tags><a href=/tags/aeraki title=aeraki>aeraki
</a><a href=/tags/aeraki-mesh title="aeraki mesh">aeraki mesh
</a><a href=/tags/ambient-mesh title="ambient mesh">ambient mesh
</a><a href=/tags/api-gateway title="api gateway">api gateway
</a><a href=/tags/bitcoin title=bitcoin>bitcoin
</a><a href=/tags/blockchain title=blockchain>blockchain
</a><a href=/tags/cka title=cka>cka
</a><a href=/tags/cncf title=cncf>cncf
</a><a href=/tags/cryptocurrency title=cryptocurrency>cryptocurrency
</a><a href=/tags/digital-signature title="digital signature">digital signature
</a><a href=/tags/docker title=docker>docker
</a><a href=/tags/dubbo title=dubbo>dubbo
</a><a href=/tags/envoy title=envoy>envoy
</a><a href=/tags/envoy-gateway title="envoy gateway">envoy gateway
</a><a href=/tags/ingress title=ingress>ingress
</a><a href=/tags/istio title=istio>istio
</a><a href=/tags/jaeger title=jaeger>jaeger
</a><a href=/tags/kafka title=kafka>kafka
</a><a href=/tags/knowledge-graph title="knowledge graph">knowledge graph
</a><a href=/tags/kubecon title=kubecon>kubecon
</a><a href=/tags/kubernetes title=kubernetes>kubernetes
</a><a href=/tags/linux title=linux>linux
</a><a href=/tags/loadbalancer title=loadbalancer>loadbalancer
</a><a href=/tags/metaprotocol title=metaprotocol>metaprotocol
</a><a href=/tags/microservice title=microservice>microservice
</a><a href=/tags/network title=network>network
</a><a href=/tags/network-service-mesh title="network service mesh">network service mesh
</a><a href=/tags/nfv title=nfv>nfv
</a><a href=/tags/nodeport title=nodeport>nodeport
</a><a href=/tags/onap title=onap>onap
</a><a href=/tags/opentracing title=opentracing>opentracing
</a><a href=/tags/pilot title=pilot>pilot
</a><a href=/tags/proxy-protocol title="proxy protocol">proxy protocol
</a><a href=/tags/redis title=redis>redis
</a><a href=/tags/sdn title=sdn>sdn
</a><a href=/tags/security title=security>security
</a><a href=/tags/service-mesh title="service mesh">service mesh
</a><a href=/tags/tencent title=tencent>tencent
</a><a href=/tags/x-forwarded-for title=x-forwarded-for>x-forwarded-for</a></div></section><section><hr><h5>FRIENDS</h5><ul class=list-inline><li><a target=_blank href=https://zhaozhihan.com>Linda的博客</a></li></ul></section></div></div></div></article><footer><div class=container><div class=row><div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1"><ul class="list-inline text-center"><li><a href=mailto:youremail@gmail.com><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-envelope fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=/hugo-template/your%20wechat%20qr%20code%20image><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-weixin fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://github.com/yourgithub><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-github fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://www.linkedin.com/in/yourlinkedinid><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-linkedin fa-stack-1x fa-inverse"></i></span></a></li><li><a target=_blank href=https://stackoverflow.com/users/yourstackoverflowid><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fab fa-stack-overflow fa-stack-1x fa-inverse"></i></span></a></li><li><a href rel=alternate type=application/rss+xml title="Huabing Blog"><span class="fa-stack fa-lg"><i class="fas fa-circle fa-stack-2x"></i>
<i class="fas fa-rss fa-stack-1x fa-inverse"></i></span></a></li></ul><p class="copyright text-muted">Copyright &copy; Huabing Blog 2024<br><a href=https://themes.gohugo.io/hugo-theme-cleanwhite>CleanWhite Hugo Theme</a> by <a href=https://zhaohuabing.com>Huabing</a> |
<iframe style=margin-left:2px;margin-bottom:-5px frameborder=0 scrolling=0 width=100px height=20px src="https://ghbtns.com/github-btn.html?user=zhaohuabing&repo=hugo-theme-cleanwhite&type=star&count=true"></iframe></p></div></div></div></footer><script>function loadAsync(e,t){var s=document,o="script",n=s.createElement(o),i=s.getElementsByTagName(o)[0];n.src=e,t&&n.addEventListener("load",function(e){t(null,e)},!1),i.parentNode.insertBefore(n,i)}</script><script>$("#tag_cloud").length!==0&&loadAsync("/js/jquery.tagcloud.js",function(){$.fn.tagcloud.defaults={color:{start:"#bbbbee",end:"#0085a1"}},$("#tag_cloud a").tagcloud()})</script><script>loadAsync("https://cdn.jsdelivr.net/npm/fastclick@1.0.6/lib/fastclick.min.js",function(){var e=document.querySelector("nav");e&&FastClick.attach(e)})</script><script type=text/javascript>function generateCatalog(e){_containerSelector="div.post-container";var t,n,s,o,i,a=$(_containerSelector),r=a.find("h1,h2,h3,h4,h5,h6");return $(e).html(""),r.each(function(){t=$(this).prop("tagName").toLowerCase(),o="#"+$(this).prop("id"),n=$(this).text(),i=$('<a href="'+o+'" rel="nofollow">'+n+"</a>"),s=$('<li class="'+t+'_nav"></li>').append(i),$(e).append(s)}),!0}generateCatalog(".catalog-body"),$(".catalog-toggle").click(function(e){e.preventDefault(),$(".side-catalog").toggleClass("fold")}),loadAsync("/hugo-template/js/jquery.nav.js",function(){$(".catalog-body").onePageNav({currentClass:"active",changeHash:!1,easing:"swing",filter:"",scrollSpeed:700,scrollOffset:0,scrollThreshold:.2,begin:null,end:null,scrollChange:null,padding:80})})</script></body></html>